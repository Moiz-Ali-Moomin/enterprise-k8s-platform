# Ansible Configuration

## Directory Structure
- `inventory`: The inventory file used by Ansible. **Do not edit manually.** It is generated by `scripts/generate_inventory.py`.
- `site.yml`: Main playbook.
- `roles/`: Ansible roles.

## Dynamic Inventory (The Bridge)
This project uses Terraform to provision infrastructure and Ansible to configure it. Because Terraform assigns IP addresses dynamically, we must update Ansible's inventory before running playbooks.

### How to use
1.  **Provision Infrastructure:**
    ```bash
    cd ../terraform/openstack-kind
    terraform apply
    ```

2.  **Generate Inventory:**
    ```bash
    # From the ansible directory
    python scripts/generate_inventory.py
    ```

3.  **Run Ansible:**
    ```bash
    ansible-playbook -i inventory site.yml
    ```

This ensures that Ansible always targets the correct, live IP addresses of your cluster.
